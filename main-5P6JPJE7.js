import{$ as pe,$a as it,A as re,B as ie,Ba as xe,C as se,D as ae,E as At,F as W,Fa as Se,Ga as nt,H as ce,Ha as Ie,I as y,J as Y,Ja as Ae,K as M,L as p,La as Te,M as w,Ma as Me,N as tt,Na as we,O as fe,Oa as Oe,Pa as Ce,Qa as Mt,R as le,Ra as wt,Sa as Ot,T as ue,Ta as Ct,U as et,Ua as rt,V as de,Va as Re,Wa as je,Xa as Fe,Ya as Pe,Z as L,Za as De,_ as ot,_a as Rt,a as v,ab as ke,b as A,bb as st,d as V,da as me,e as Xt,ea as he,eb as at,f as Qt,fa as z,fb as jt,g as qt,ga as U,gb as _e,h as Jt,ha as ge,hb as D,i as Wt,ib as ct,j as _,jb as Ne,k as q,kb as $e,l as Yt,m as I,mb as Le,n as St,na as Ee,nb as Ft,oa as Tt,p as $,pa as be,q as F,qa as ve,r as T,ra as ye,s as N,t as te,ta as K,u as J,ub as ze,v as ee,w as oe,wb as Ue,x as ne,xb as Be,yb as ft,z as It,zb as B}from"./chunk-TCQYXIAU.js";var lt={production:!0,apiUrl:"https://jsonplaceholder.typicode.com/"};var ut=(()=>{class t{constructor(e){this.http=e,this.url=lt.apiUrl+"/posts"}getAll(){return this.http.get(this.url).pipe(T(this.handleError))}getById(e){return this.http.get(`${this.url}/${e}`).pipe(T(this.handleError))}handleError({status:e}){return q(()=>`${e}: ERROR - Unable to fetch posts`)}static{this.\u0275fac=function(o){return new(o||t)(p(nt))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ge=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=L({type:t,selectors:[["app-gbook-page"]],decls:2,vars:0,template:function(o,r){o&1&&(z(0,"p"),K(1,"gbook-page works!"),U())},encapsulation:2})}}return t})();var He=[{path:"",loadChildren:()=>import("./chunk-OZK7RYNH.js").then(t=>t.routes),providers:[ut]},{path:"guestbook",component:Ge}];var jo=["*",[["mat-toolbar-row"]]],Fo=["*","mat-toolbar-row"],Po=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275dir=pe({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),Ve=(()=>{class t{_elementRef=w(de);_platform=w(Le);_document=w(xe);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=L({type:t,selectors:[["mat-toolbar"]],contentQueries:function(o,r,i){if(o&1&&be(i,Po,5),o&2){let l;ve(l=ye())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,r){o&2&&(he(r.color?"mat-"+r.color:""),me("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Fo,decls:2,vars:0,template:function(o,r){o&1&&(Ee(jo),Tt(0),Tt(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return t})();var Ke=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=ot({type:t});static \u0275inj=Y({imports:[Ft,Ft]})}return t})();var Ze=(()=>{class t{constructor(){this.title="Training Angular Project"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=L({type:t,selectors:[["app-root"]],decls:9,vars:0,consts:[["color","primary"],["mat-button","","routerLink","/","routerLinkActive","active-link"],["mat-button","","routerLink","/guestbook","routerLinkActive","active-link"],[1,"posts-container"]],template:function(o,r){o&1&&(z(0,"mat-toolbar",0)(1,"nav")(2,"a",1),K(3,"Posts"),U(),z(4,"a",2),K(5,"Guest Book"),U()()(),z(6,"main")(7,"div",3),ge(8,"router-outlet"),U()())},dependencies:[Ae,Me,Te,ze,Be,Ue,Ke,Ve],styles:[".posts-container[_ngcontent-%COMP%]{width:80%;margin:auto;display:flex;flex-direction:column;align-items:center}mat-toolbar[_ngcontent-%COMP%]{margin-bottom:24px}"]})}}return t})();var X="PERFORM_ACTION",_o="REFRESH",Ye="RESET",to="ROLLBACK",eo="COMMIT",oo="SWEEP",no="TOGGLE_ACTION",No="SET_ACTIONS_ACTIVE",ro="JUMP_TO_STATE",io="JUMP_TO_ACTION",Vt="IMPORT_STATE",so="LOCK_CHANGES",ao="PAUSE_RECORDING",G=class{constructor(n,e){if(this.action=n,this.timestamp=e,this.type=X,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Pt=class{constructor(){this.type=_o}},Dt=class{constructor(n){this.timestamp=n,this.type=Ye}},kt=class{constructor(n){this.timestamp=n,this.type=to}},_t=class{constructor(n){this.timestamp=n,this.type=eo}},Nt=class{constructor(){this.type=oo}},$t=class{constructor(n){this.id=n,this.type=no}};var Lt=class{constructor(n){this.index=n,this.type=ro}},zt=class{constructor(n){this.actionId=n,this.type=io}},Ut=class{constructor(n){this.nextLiftedState=n,this.type=Vt}},Bt=class{constructor(n){this.status=n,this.type=so}},Gt=class{constructor(n){this.status=n,this.type=ao}};var ht=new M("@ngrx/store-devtools Options"),Xe=new M("@ngrx/store-devtools Initial Config");function co(){return null}var $o="NgRx Store DevTools";function Lo(t){let n={maxAge:!1,monitor:co,actionSanitizer:void 0,stateSanitizer:void 0,name:$o,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof t=="function"?t():t,o=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||o||n.features;r.import===!0&&(r.import="custom");let i=Object.assign({},n,{features:r},e);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function Qe(t,n){return t.filter(e=>n.indexOf(e)<0)}function fo(t){let{computedStates:n,currentStateIndex:e}=t;if(e>=n.length){let{state:r}=n[n.length-1];return r}let{state:o}=n[e];return o}function Z(t){return new G(t,+Date.now())}function zo(t,n){return Object.keys(n).reduce((e,o)=>{let r=Number(o);return e[r]=lo(t,n[r],r),e},{})}function lo(t,n,e){return A(v({},n),{action:t(n.action,e)})}function Uo(t,n){return n.map((e,o)=>({state:uo(t,e.state,o),error:e.error}))}function uo(t,n,e){return t(n,e)}function po(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function Bo(t,n,e,o){let r=[],i={},l=[];return t.stagedActionIds.forEach((c,h)=>{let s=t.actionsById[c];s&&(h&&Kt(t.computedStates[h],s,n,e,o)||(i[c]=s,r.push(c),l.push(t.computedStates[h])))}),A(v({},t),{stagedActionIds:r,actionsById:i,computedStates:l})}function Kt(t,n,e,o,r){let i=e&&!e(t,n.action),l=o&&!n.action.type.match(o.map(h=>qe(h)).join("|")),c=r&&n.action.type.match(r.map(h=>qe(h)).join("|"));return i||l||c}function qe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mo(t){return{ngZone:t?w(ue):null,connectInZone:t}}var gt=(()=>{class t extends rt{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=le(t)))(r||t)}})()}static{this.\u0275prov=y({token:t,factory:t.\u0275fac})}}return t})(),dt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Ht=new M("@ngrx/store-devtools Redux Devtools Extension"),ho=(()=>{class t{constructor(e,o,r){this.config=o,this.dispatcher=r,this.zoneConfig=mo(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,o){if(this.devtoolsExtension)if(e.type===X){if(o.isLocked||o.isPaused)return;let r=fo(o);if(po(this.config)&&Kt(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let i=this.config.stateSanitizer?uo(this.config.stateSanitizer,r,o.currentStateIndex):r,l=this.config.actionSanitizer?lo(this.config.actionSanitizer,e,o.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(l,i))}else{let r=A(v({},o),{stagedActionIds:o.stagedActionIds,actionsById:this.config.actionSanitizer?zo(this.config.actionSanitizer,o.actionsById):o.actionsById,computedStates:this.config.stateSanitizer?Uo(this.config.stateSanitizer,o.computedStates):o.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new V(e=>{let o=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=o,o.init(),o.subscribe(r=>e.next(r)),o.unsubscribe}):Jt}createActionStreams(){let e=this.createChangesObservable().pipe(se()),o=e.pipe(F(s=>s.type===dt.START)),r=e.pipe(F(s=>s.type===dt.STOP)),i=e.pipe(F(s=>s.type===dt.DISPATCH),I(s=>this.unwrapAction(s.payload)),N(s=>s.type===Vt?this.dispatcher.pipe(F(b=>b.type===Rt),Yt(1e3),te(1e3),I(()=>s),T(()=>_(s)),J(1)):_(s))),c=e.pipe(F(s=>s.type===dt.ACTION),I(s=>this.unwrapAction(s.payload))).pipe(W(r)),h=i.pipe(W(r));this.start$=o.pipe(W(r)),this.actions$=this.start$.pipe(At(()=>c)),this.liftedActions$=this.start$.pipe(At(()=>h))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let o={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(o.maxAge=e.maxAge),o}sendToReduxDevtools(e){try{e()}catch(o){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",o)}}static{this.\u0275fac=function(o){return new(o||t)(p(Ht),p(ht),p(gt))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac})}}return t})(),mt={type:Ct},Go="@ngrx/store-devtools/recompute",Ho={type:Go};function go(t,n,e,o,r){if(o)return{state:e,error:"Interrupted by an error up the chain"};let i=e,l;try{i=t(e,n)}catch(c){l=c.toString(),r.handleError(c)}return{state:i,error:l}}function pt(t,n,e,o,r,i,l,c,h){if(n>=t.length&&t.length===i.length)return t;let s=t.slice(0,n),b=i.length-(h?1:0);for(let a=n;a<b;a++){let d=i[a],x=r[d].action,u=s[a-1],f=u?u.state:o,C=u?u.error:void 0,R=l.indexOf(d)>-1?u:go(e,x,f,C,c);s.push(R)}return h&&s.push(t[t.length-1]),s}function Vo(t,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:Z(mt)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Ko(t,n,e,o,r={}){return i=>(l,c)=>{let{monitorState:h,actionsById:s,nextActionId:b,stagedActionIds:a,skippedActionIds:d,committedState:x,currentStateIndex:u,computedStates:f,isLocked:C,isPaused:S}=l||n;l||(s=Object.create(s));function R(E){let g=E,P=a.slice(1,g+1);for(let O=0;O<P.length;O++)if(f[O+1].error){g=O,P=a.slice(1,g+1);break}else delete s[P[O]];d=d.filter(O=>P.indexOf(O)===-1),a=[0,...a.slice(g+1)],x=f[g].state,f=f.slice(g),u=u>g?u-g:0}function j(){s={0:Z(mt)},b=1,a=[0],d=[],x=f[u].state,u=0,f=[]}let m=0;switch(c.type){case so:{C=c.status,m=1/0;break}case ao:{S=c.status,S?(a=[...a,b],s[b]=new G({type:"@ngrx/devtools/pause"},+Date.now()),b++,m=a.length-1,f=f.concat(f[f.length-1]),u===a.length-2&&u++,m=1/0):j();break}case Ye:{s={0:Z(mt)},b=1,a=[0],d=[],x=t,u=0,f=[];break}case eo:{j();break}case to:{s={0:Z(mt)},b=1,a=[0],d=[],u=0,f=[];break}case no:{let{id:E}=c;d.indexOf(E)===-1?d=[E,...d]:d=d.filter(P=>P!==E),m=a.indexOf(E);break}case No:{let{start:E,end:g,active:P}=c,O=[];for(let xt=E;xt<g;xt++)O.push(xt);P?d=Qe(d,O):d=[...d,...O],m=a.indexOf(E);break}case ro:{u=c.index,m=1/0;break}case io:{let E=a.indexOf(c.actionId);E!==-1&&(u=E),m=1/0;break}case oo:{a=Qe(a,d),d=[],u=Math.min(u,a.length-1);break}case X:{if(C)return l||n;if(S||l&&Kt(l.computedStates[u],c,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let g=f[f.length-1];f=[...f.slice(0,-1),go(i,c.action,g.state,g.error,e)],m=1/0;break}r.maxAge&&a.length===r.maxAge&&R(1),u===a.length-1&&u++;let E=b++;s[E]=c,a=[...a,E],m=a.length-1;break}case Vt:{({monitorState:h,actionsById:s,nextActionId:b,stagedActionIds:a,skippedActionIds:d,committedState:x,currentStateIndex:u,computedStates:f,isLocked:C,isPaused:S}=c.nextLiftedState);break}case Ct:{m=0,r.maxAge&&a.length>r.maxAge&&(f=pt(f,m,i,x,s,a,d,e,S),R(a.length-r.maxAge),m=1/0);break}case Rt:{if(f.filter(g=>g.error).length>0)m=0,r.maxAge&&a.length>r.maxAge&&(f=pt(f,m,i,x,s,a,d,e,S),R(a.length-r.maxAge),m=1/0);else{if(!S&&!C){u===a.length-1&&u++;let g=b++;s[g]=new G(c,+Date.now()),a=[...a,g],m=a.length-1,f=pt(f,m,i,x,s,a,d,e,S)}f=f.map(g=>A(v({},g),{state:i(g.state,Ho)})),u=a.length-1,r.maxAge&&a.length>r.maxAge&&R(a.length-r.maxAge),m=1/0}break}default:{m=1/0;break}}return f=pt(f,m,i,x,s,a,d,e,S),h=o(h,c),{monitorState:h,actionsById:s,nextActionId:b,stagedActionIds:a,skippedActionIds:d,committedState:x,currentStateIndex:u,computedStates:f,isLocked:C,isPaused:S}}}var Je=(()=>{class t{constructor(e,o,r,i,l,c,h,s){let b=Vo(h,s.monitor),a=Ko(h,b,c,s.monitor,s),d=$($(o.asObservable().pipe(ae(1)),i.actions$).pipe(I(Z)),e,i.liftedActions$).pipe(Wt(qt)),x=r.pipe(I(a)),u=mo(s.connectInZone),f=new Qt(1);this.liftedStateSubscription=d.pipe(ce(x),We(u),ie(({state:R},[j,m])=>{let E=m(R,j);return j.type!==X&&po(s)&&(E=Bo(E,s.predicate,s.actionsSafelist,s.actionsBlocklist)),i.notify(j,E),{state:E,action:j}},{state:b,action:null})).subscribe(({state:R,action:j})=>{if(f.next(R),j.type===X){let m=j.action;l.next(m)}}),this.extensionStartSubscription=i.start$.pipe(We(u)).subscribe(()=>{this.refresh()});let C=f.asObservable(),S=C.pipe(I(fo));Object.defineProperty(S,"state",{value:Oe(S,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=C,this.state=S}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new G(e,+Date.now()))}refresh(){this.dispatch(new Pt)}reset(){this.dispatch(new Dt(+Date.now()))}rollback(){this.dispatch(new kt(+Date.now()))}commit(){this.dispatch(new _t(+Date.now()))}sweep(){this.dispatch(new Nt)}toggleAction(e){this.dispatch(new $t(e))}jumpToAction(e){this.dispatch(new zt(e))}jumpToState(e){this.dispatch(new Lt(e))}importState(e){this.dispatch(new Ut(e))}lockChanges(e){this.dispatch(new Bt(e))}pauseRecording(e){this.dispatch(new Gt(e))}static{this.\u0275fac=function(o){return new(o||t)(p(gt),p(rt),p(Pe),p(ho),p(it),p(et),p(Re),p(ht))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac})}}return t})();function We({ngZone:t,connectInZone:n}){return e=>n?new V(o=>e.subscribe({next:r=>t.run(()=>o.next(r)),error:r=>t.run(()=>o.error(r)),complete:()=>t.run(()=>o.complete())})):e}var Zo=new M("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Xo(t,n){return!!t||n.monitor!==co}function Qo(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function qo(t){return t.state}function Eo(t={}){return tt([ho,gt,Je,{provide:Xe,useValue:t},{provide:Zo,deps:[Ht,ht],useFactory:Xo},{provide:Ht,useFactory:Qo},{provide:ht,deps:[Xe],useFactory:Lo},{provide:ke,deps:[Je],useFactory:qo},{provide:De,useExisting:gt}])}var Jo={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Et="__@ngrx/effects_create__";function bt(t,n={}){let e=n.functional?t:t(),o=v(v({},Jo),n);return Object.defineProperty(e,Et,{value:o}),e}function Wo(t){return Object.getOwnPropertyNames(t).filter(o=>t[o]&&t[o].hasOwnProperty(Et)?t[o][Et].hasOwnProperty("dispatch"):!1).map(o=>{let r=t[o][Et];return v({propertyName:o},r)})}function Yo(t){return Wo(t)}function bo(t){return Object.getPrototypeOf(t)}function tn(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function vo(t){return typeof t=="function"}function en(t){return t.filter(vo)}function on(t,n,e){let o=bo(t),i=!!o&&o.constructor.name!=="Object"?o.constructor.name:null,l=Yo(t).map(({propertyName:c,dispatch:h,useEffectsErrorHandler:s})=>{let b=typeof t[c]=="function"?t[c]():t[c],a=s?e(b,n):b;return h===!1?a.pipe(ee()):a.pipe(re()).pipe(I(x=>({effect:t[c],notification:x,propertyName:c,sourceName:i,sourceInstance:t})))});return $(...l)}var nn=10;function yo(t,n,e=nn){return t.pipe(T(o=>(n&&n.handleError(o),e<=1?t:yo(t,n,e-1))))}var vt=(()=>{class t extends V{constructor(e){super(),e&&(this.source=e)}lift(e){let o=new t;return o.source=this,o.operator=e,o}static{this.\u0275fac=function(o){return new(o||t)(p(it))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yt(...t){return F(n=>t.some(e=>typeof e=="string"?e===n.type:e.type===n.type))}var gr=new M("@ngrx/effects Internal Root Guard"),Er=new M("@ngrx/effects User Provided Effects"),br=new M("@ngrx/effects Internal Root Effects"),vr=new M("@ngrx/effects Internal Root Effects Instances"),yr=new M("@ngrx/effects Internal Feature Effects"),xr=new M("@ngrx/effects Internal Feature Effects Instance Groups"),rn=new M("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>yo}),sn="@ngrx/effects/init",an=Ce(sn);function cn(t,n){if(t.notification.kind==="N"){let e=t.notification.value;!fn(e)&&n.handleError(new Error(`Effect ${ln(t)} dispatched an invalid action: ${un(e)}`))}}function fn(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function ln({propertyName:t,sourceInstance:n,sourceName:e}){let o=typeof n[t]=="function";return!!e?`"${e}.${String(t)}${o?"()":""}"`:`"${String(t)}()"`}function un(t){try{return JSON.stringify(t)}catch{return t}}var dn="ngrxOnIdentifyEffects";function pn(t){return Zt(t,dn)}var mn="ngrxOnRunEffects";function hn(t){return Zt(t,mn)}var gn="ngrxOnInitEffects";function En(t){return Zt(t,gn)}function Zt(t,n){return t&&n in t&&typeof t[n]=="function"}var xo=(()=>{class t extends Xt{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(It(e=>tn(e)?bo(e):e),St(e=>e.pipe(It(bn))),St(e=>{let o=e.pipe(ne(i=>vn(this.errorHandler,this.effectsErrorHandler)(i)),I(i=>(cn(i,this.errorHandler),i.notification)),F(i=>i.kind==="N"&&i.value!=null),oe()),r=e.pipe(J(1),F(En),I(i=>i.ngrxOnInitEffects()));return $(o,r)}))}static{this.\u0275fac=function(o){return new(o||t)(p(et),p(rn))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bn(t){return pn(t)?t.ngrxOnIdentifyEffects():""}function vn(t,n){return e=>{let o=on(e,t,n);return hn(e)?e.ngrxOnRunEffects(o):o}}var yn=(()=>{class t{get isStarted(){return!!this.effectsSubscription}constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(o){return new(o||t)(p(xo),p(st))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function So(...t){let n=t.flat(),e=en(n);return tt([e,fe(()=>{w(je),w(Fe,{optional:!0});let o=w(yn),r=w(xo),i=!o.isStarted;i&&o.start();for(let l of n){let c=vo(l)?w(l):l;r.addEffects(c)}i&&w(st).dispatch(an())})])}var Q=wt({source:"Posts Page",events:{"Load Posts":Ot()}}),H=wt({source:"Posts API",events:{"Load Posts":Ot(),"Posts Loaded Success":Mt(),"Posts Loaded Fail":Mt()}});var xn={loading:!1,errorMessage:"",posts:[]},Ao=at({name:"posts",reducer:ct(xn,D(Q.loadPosts,t=>A(v({},t),{loading:!0,errorMessage:"",posts:[]})),D(H.postsLoadedSuccess,(t,{posts:n})=>A(v({},t),{loading:!1,posts:n})),D(H.postsLoadedFail,(t,{message:n})=>A(v({},t),{errorMessage:n,loading:!1})))});var Sn={loading:!1,errorMessage:"",comments:[]},To=at({name:"comments",reducer:ct(Sn,D(ft.loadComments,t=>A(v({},t),{loading:!0,errorMessage:"",comments:[]})),D(B.commentsLoadedSuccess,(t,{comments:n})=>A(v({},t),{loading:!1,comments:n})),D(B.commentsLoadedFail,(t,{message:n})=>A(v({},t),{errorMessage:n,loading:!1})))});var Mo=(()=>{class t{ngrxOnInitEffects(){return Q.loadPosts()}constructor(e,o){this.postsServiss=e,this.actions$=o,this.loadPosts$=bt(()=>this.actions$.pipe(yt(Q.loadPosts),N(()=>this.postsServiss.getAll().pipe(I(r=>H.postsLoadedSuccess({posts:r})),T(r=>_(H.postsLoadedFail({message:r})))))))}static{this.\u0275fac=function(o){return new(o||t)(p(ut),p(vt))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac})}}return t})();var wo=(()=>{class t{constructor(e){this.http=e,this.url=lt.apiUrl+"/comments"}getByPost(e){return this.http.get(`${this.url}/?postId=${e.id}`).pipe(T(this.handleError))}handleError({status:e}){return q(()=>`${e}: ERROR - Unable to fetch posts`)}static{this.\u0275fac=function(o){return new(o||t)(p(nt))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Oo=(()=>{class t{constructor(e,o){this.commentsService=e,this.actions$=o,this.loadComments$=bt(()=>this.actions$.pipe(yt(ft.loadComments),N(({post:r})=>this.commentsService.getByPost(r).pipe(I(i=>B.commentsLoadedSuccess({comments:i})),T(i=>_(B.commentsLoadedFail({message:i})))))))}static{this.\u0275fac=function(o){return new(o||t)(p(wo),p(vt))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac})}}return t})();Se(Ze,{providers:[Ie(),_e({router:Ne}),Eo({maxAge:25,logOnly:!1}),$e(),we(He),jt(Ao),jt(To),So(Mo,Oo)]}).catch(t=>console.error(t));
