import{$ as Te,$a as X,A as ge,Aa as Pe,B as be,Ba as Ge,Bb as po,C as Ee,Ca as Ne,Cb as mo,D as ve,Da as $e,Db as ho,E as Ot,Ea as mt,Eb as go,F as at,Fa as Le,H as ye,Ha as ze,I as v,J as ct,Ja as Ue,K as k,Ka as Be,L as l,La as He,M as C,Ma as Ve,N as ft,Na as Ke,O as xe,Oa as Z,Pa as _t,Qa as Dt,R as Se,Ra as Pt,Sa as ht,T as Ie,Ta as Ze,U as lt,Ua as Xe,V as Ae,Va as Je,Wa as Qe,X as L,Xa as qe,Y as Me,Ya as Gt,Z as U,Za as gt,_ as ut,_a as We,a as x,aa as dt,ab as bt,b as M,bb as Ye,ca as K,cb as to,d as ot,da as ke,db as Et,e as se,ea as Ce,eb as eo,f as ae,fa as w,fb as J,g as ce,ga as O,gb as oo,h as fe,ha as pt,hb as Nt,i as le,ib as $t,j as T,jb as no,k as it,l as ue,m as y,ma as Rt,mb as ro,n as Ct,na as we,nb as io,oa as jt,ob as Lt,p as V,pa as Oe,q as P,qa as Re,qb as so,r as S,ra as je,rb as ao,s as G,sa as Fe,sb as zt,t as de,ta as N,tb as co,u as st,ua as Ft,v as pe,va as _e,vb as fo,w as me,wb as lo,x as he,xa as De,yb as uo,z as wt,zb as Q}from"./chunk-3RPASAWI.js";var rn={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},vt="__@ngrx/effects_create__";function B(t,n={}){let e=n.functional?t:t(),o=x(x({},rn),n);return Object.defineProperty(e,vt,{value:o}),e}function sn(t){return Object.getOwnPropertyNames(t).filter(o=>t[o]&&t[o].hasOwnProperty(vt)?t[o][vt].hasOwnProperty("dispatch"):!1).map(o=>{let r=t[o][vt];return x({propertyName:o},r)})}function an(t){return sn(t)}function Eo(t){return Object.getPrototypeOf(t)}function cn(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function vo(t){return typeof t=="function"}function fn(t){return t.filter(vo)}function ln(t,n,e){let o=Eo(t),i=!!o&&o.constructor.name!=="Object"?o.constructor.name:null,u=an(t).map(({propertyName:c,dispatch:h,useEffectsErrorHandler:s})=>{let E=typeof t[c]=="function"?t[c]():t[c],a=s?e(E,n):E;return h===!1?a.pipe(pe()):a.pipe(ge()).pipe(y(I=>({effect:t[c],notification:I,propertyName:c,sourceName:i,sourceInstance:t})))});return V(...u)}var un=10;function yo(t,n,e=un){return t.pipe(S(o=>(n&&n.handleError(o),e<=1?t:yo(t,n,e-1))))}var q=(()=>{class t extends ot{constructor(e){super(),e&&(this.source=e)}lift(e){let o=new t;return o.source=this,o.operator=e,o}static{this.\u0275fac=function(o){return new(o||t)(l(gt))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function H(...t){return P(n=>t.some(e=>typeof e=="string"?e===n.type:e.type===n.type))}var gr=new k("@ngrx/effects Internal Root Guard"),br=new k("@ngrx/effects User Provided Effects"),Er=new k("@ngrx/effects Internal Root Effects"),vr=new k("@ngrx/effects Internal Root Effects Instances"),yr=new k("@ngrx/effects Internal Feature Effects"),xr=new k("@ngrx/effects Internal Feature Effects Instance Groups"),dn=new k("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>yo}),pn="@ngrx/effects/init",mn=Ke(pn);function hn(t,n){if(t.notification.kind==="N"){let e=t.notification.value;!gn(e)&&n.handleError(new Error(`Effect ${bn(t)} dispatched an invalid action: ${En(e)}`))}}function gn(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function bn({propertyName:t,sourceInstance:n,sourceName:e}){let o=typeof n[t]=="function";return!!e?`"${e}.${String(t)}${o?"()":""}"`:`"${String(t)}()"`}function En(t){try{return JSON.stringify(t)}catch{return t}}var vn="ngrxOnIdentifyEffects";function yn(t){return Ut(t,vn)}var xn="ngrxOnRunEffects";function Sn(t){return Ut(t,xn)}var In="ngrxOnInitEffects";function An(t){return Ut(t,In)}function Ut(t,n){return t&&n in t&&typeof t[n]=="function"}var xo=(()=>{class t extends se{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(wt(e=>cn(e)?Eo(e):e),Ct(e=>e.pipe(wt(Mn))),Ct(e=>{let o=e.pipe(he(i=>Tn(this.errorHandler,this.effectsErrorHandler)(i)),y(i=>(hn(i,this.errorHandler),i.notification)),P(i=>i.kind==="N"&&i.value!=null),me()),r=e.pipe(st(1),P(An),y(i=>i.ngrxOnInitEffects()));return V(o,r)}))}static{this.\u0275fac=function(o){return new(o||t)(l(lt),l(dn))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Mn(t){return yn(t)?t.ngrxOnIdentifyEffects():""}function Tn(t,n){return e=>{let o=ln(e,t,n);return Sn(e)?e.ngrxOnRunEffects(o):o}}var kn=(()=>{class t{get isStarted(){return!!this.effectsSubscription}constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(o){return new(o||t)(l(xo),l(X))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bt(...t){let n=t.flat(),e=fn(n);return ft([e,xe(()=>{C(Xe),C(Je,{optional:!0});let o=C(kn),r=C(xo),i=!o.isStarted;i&&o.start();for(let u of n){let c=vo(u)?C(u):u;r.addEffects(c)}i&&C(X).dispatch(mn())})])}var W={production:!0,apiUrl:"https://jsonplaceholder.typicode.com/"};var yt=(()=>{class t{constructor(e){this.http=e,this.url=W.apiUrl+"/posts"}getAll(){return this.http.get(this.url).pipe(S(this.handleError))}getById(e){return this.http.get(`${this.url}/${e}`).pipe(S(this.handleError))}handleError({status:e}){return it(()=>`${e}: ERROR - Unable to fetch posts`)}static{this.\u0275fac=function(o){return new(o||t)(l(mt))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var So=(()=>{class t{ngrxOnInitEffects(){return Nt.loadPosts()}constructor(e,o){this.postsServiss=e,this.actions$=o,this.loadPosts$=B(()=>this.actions$.pipe(H(Nt.loadPosts),G(()=>this.postsServiss.getAll().pipe(y(r=>$t.postsLoadedSuccess({posts:r})),S(r=>T($t.postsLoadedFail({message:r})))))))}static{this.\u0275fac=function(o){return new(o||t)(l(yt),l(q))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac})}}return t})();var Io=(()=>{class t{constructor(e){this.http=e,this.url=W.apiUrl+"/comments"}getByPost(e){return this.http.get(`${this.url}/?postId=${e.id}`).pipe(S(this.handleError))}handleError({status:e}){return it(()=>`${e}: ERROR - Unable to fetch posts`)}static{this.\u0275fac=function(o){return new(o||t)(l(mt))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ao=(()=>{class t{constructor(e,o){this.commentsService=e,this.actions$=o,this.loadComments$=B(()=>this.actions$.pipe(H(io.loadPostComments),G(({post:r})=>this.commentsService.getByPost(r).pipe(y(i=>Lt.postCommentsLoadedSuccess({comments:i})),S(i=>T(Lt.postCommentsLoadedFail({message:i})))))))}static{this.\u0275fac=function(o){return new(o||t)(l(Io),l(q))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac})}}return t})();function Rn(t,n){if(t&1&&(w(0,"div",2)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),N(4),O()(),w(5,"mat-card-content",3)(6,"p"),N(7),O()()()()),t&2){let e=n.$implicit;L(4),Ft(e.name),L(3),Ft(e.message)}}var Mo=(()=>{class t{constructor(){this.guestPosts=[]}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=U({type:t,selectors:[["app-guestbook-list"]],inputs:{guestPosts:"guestPosts"},decls:2,vars:1,consts:[[1,"guest-posts-list"],["class","guest-post-item",4,"ngFor","ngForOf"],[1,"guest-post-item"],[1,"guest-post-content"]],template:function(o,r){o&1&&(w(0,"div",0),dt(1,Rn,8,2,"div",1),O()),o&2&&(L(),K("ngForOf",r.guestPosts))},dependencies:[Ge,Q,co,fo,uo,lo],styles:[".guest-post-item[_ngcontent-%COMP%]{padding:8px}"]})}}return t})();var Y=_t({source:"Guestbook Page",events:{"Load Guestbook Entries":Dt(),"Add Guestbook Entry":Z()}}),$=_t({source:"Guestbook API",events:{"Load Guestbook Entries":Dt(),"Guestbook Entries Loaded Success":Z(),"Guestbook Entries Loaded Fail":Z(),"Guestbook Entry Added Success":Z(),"Guestbook Entry Added Fail":Z()}});var tt=no({}),jn=tt.getInitialState({loading:!1,errorMessage:""}),{selectAll:Fn}=tt.getSelectors(),To=Fn,ko=to({name:"guestbook",reducer:oo(jn,J(Y.loadGuestbookEntries,t=>tt.setAll([],M(x({},t),{loading:!0,errorMessage:""}))),J($.guestbookEntriesLoadedSuccess,(t,{entries:n})=>tt.setAll(n,M(x({},t),{loading:!1}))),J($.guestbookEntriesLoadedFail,(t,{message:n})=>tt.setAll([],M(x({},t),{errorMessage:n,loading:!1}))),J($.guestbookEntryAddedSuccess,(t,{entry:n})=>tt.addOne(n,M(x({},t),{loading:!1}))),J($.guestbookEntryAddedFail,(t,{message:n})=>M(x({},t),{loading:!1,errorMessage:n})))});var Vt=Ye("guestbook"),Zr=bt(Vt,({loading:t})=>t),Xr=bt(Vt,({errorMessage:t})=>t),Co=bt(Vt,To);function Dn(t,n){if(t&1&&(w(0,"div"),N(1),O()),t&2){let e=Rt();L(),_e(" Error: ",e.errorMessage,`
`)}}function Pn(t,n){if(t&1&&(w(0,"div")(1,"div"),pt(2,"app-guestbook-list",4),O()()),t&2){let e=Rt();L(2),K("guestPosts",e.guestPosts())}}function Gn(t,n){t&1&&N(0,"Loading...")}var wo=(()=>{class t{constructor(e){this.store=e,this.guestPosts=this.store.selectSignal(Co),this.loading=!1,this.errorMessage=""}static{this.\u0275fac=function(o){return new(o||t)(Me(X))}}static{this.\u0275cmp=U({type:t,selectors:[["app-guestbook-page"]],decls:6,vars:3,consts:[["loadingElement",""],[1,"mat-h1"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"guestPosts"]],template:function(o,r){if(o&1&&(w(0,"h1",1),N(1,"Guest Book"),O(),dt(2,Dn,2,1,"div",2)(3,Pn,3,1,"div",3)(4,Gn,1,0,"ng-template",null,0,De)),o&2){let i=Fe(5);L(2),K("ngIf",r.errorMessage!==""),L(),K("ngIf",r.loading===!1)("ngIfElse",i)}},dependencies:[Ne,Q,Mo],encapsulation:2})}}return t})();var xt=(()=>{class t{constructor(){this.entries=[{id:876,name:"John Doe",email:"john@example.com",message:"Hello world!",createdAt:new Date},{id:343,name:"Jane Smith",email:"jane@example.com",message:"This is a test message.",createdAt:new Date}]}loadEntries(){return T(this.entries)}add(e){return e=M(x({},e),{id:Math.floor(Math.random()*1e3),createdAt:new Date}),this.entries.push(e),T(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Oo=(()=>{class t{ngrxOnInitEffects(){return Y.loadGuestbookEntries()}constructor(e,o){this.guestbookService=e,this.actions$=o,this.loadGuestbookEntries$=B(()=>this.actions$.pipe(H(Y.loadGuestbookEntries),G(()=>this.guestbookService.loadEntries().pipe(y(r=>$.guestbookEntriesLoadedSuccess({entries:r})),S(r=>T($.guestbookEntriesLoadedFail({message:r}))))))),this.addGuestbookEntry$=B(()=>this.actions$.pipe(H(Y.addGuestbookEntry),G(({entry:r})=>this.guestbookService.add(r).pipe(y(i=>$.guestbookEntryAddedSuccess({entry:i})),S(i=>T($.guestbookEntryAddedFail({message:i})))))))}static{this.\u0275fac=function(o){return new(o||t)(l(xt),l(q))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac})}}return t})();var Ro=[{path:"guestbook",component:wo,providers:[xt,Et(ko),Bt(Oo)]},{path:"",loadChildren:()=>import("./chunk-3OGZ3AG2.js").then(t=>t.routes),providers:[yt,Et(ro),Et(so),Bt(So,Ao)]}];var $n=["*",[["mat-toolbar-row"]]],Ln=["*","mat-toolbar-row"],zn=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275dir=Te({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),jo=(()=>{class t{_elementRef=C(Ae);_platform=C(ao);_document=C(Pe);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=U({type:t,selectors:[["mat-toolbar"]],contentQueries:function(o,r,i){if(o&1&&Oe(i,zn,5),o&2){let u;Re(u=je())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,r){o&2&&(Ce(r.color?"mat-"+r.color:""),ke("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Ln,decls:2,vars:0,template:function(o,r){o&1&&(we($n),jt(0),jt(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return t})();var Fo=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=ut({type:t});static \u0275inj=ct({imports:[zt,zt]})}return t})();var _o=(()=>{class t{constructor(){this.title="Training Angular Project"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=U({type:t,selectors:[["app-root"]],decls:9,vars:0,consts:[["color","primary"],["mat-button","","routerLink","/","routerLinkActive","active-link"],["mat-button","","routerLink","/guestbook","routerLinkActive","active-link"],[1,"posts-container"]],template:function(o,r){o&1&&(w(0,"mat-toolbar",0)(1,"nav")(2,"a",1),N(3,"Posts"),O(),w(4,"a",2),N(5,"Guest Book"),O()()(),w(6,"main")(7,"div",3),pt(8,"router-outlet"),O()())},dependencies:[ze,Be,Ue,Q,mo,po,Fo,jo],styles:[".posts-container[_ngcontent-%COMP%]{width:80%;margin:auto;display:flex;flex-direction:column;align-items:center}mat-toolbar[_ngcontent-%COMP%]{margin-bottom:24px}"]})}}return t})();var rt="PERFORM_ACTION",Bn="REFRESH",Lo="RESET",zo="ROLLBACK",Uo="COMMIT",Bo="SWEEP",Ho="TOGGLE_ACTION",Hn="SET_ACTIONS_ACTIVE",Vo="JUMP_TO_STATE",Ko="JUMP_TO_ACTION",re="IMPORT_STATE",Zo="LOCK_CHANGES",Xo="PAUSE_RECORDING",et=class{constructor(n,e){if(this.action=n,this.timestamp=e,this.type=rt,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Kt=class{constructor(){this.type=Bn}},Zt=class{constructor(n){this.timestamp=n,this.type=Lo}},Xt=class{constructor(n){this.timestamp=n,this.type=zo}},Jt=class{constructor(n){this.timestamp=n,this.type=Uo}},Qt=class{constructor(){this.type=Bo}},qt=class{constructor(n){this.id=n,this.type=Ho}};var Wt=class{constructor(n){this.index=n,this.type=Vo}},Yt=class{constructor(n){this.actionId=n,this.type=Ko}},te=class{constructor(n){this.nextLiftedState=n,this.type=re}},ee=class{constructor(n){this.status=n,this.type=Zo}},oe=class{constructor(n){this.status=n,this.type=Xo}};var Mt=new k("@ngrx/store-devtools Options"),Do=new k("@ngrx/store-devtools Initial Config");function Jo(){return null}var Vn="NgRx Store DevTools";function Kn(t){let n={maxAge:!1,monitor:Jo,actionSanitizer:void 0,stateSanitizer:void 0,name:Vn,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof t=="function"?t():t,o=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||o||n.features;r.import===!0&&(r.import="custom");let i=Object.assign({},n,{features:r},e);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function Po(t,n){return t.filter(e=>n.indexOf(e)<0)}function Qo(t){let{computedStates:n,currentStateIndex:e}=t;if(e>=n.length){let{state:r}=n[n.length-1];return r}let{state:o}=n[e];return o}function nt(t){return new et(t,+Date.now())}function Zn(t,n){return Object.keys(n).reduce((e,o)=>{let r=Number(o);return e[r]=qo(t,n[r],r),e},{})}function qo(t,n,e){return M(x({},n),{action:t(n.action,e)})}function Xn(t,n){return n.map((e,o)=>({state:Wo(t,e.state,o),error:e.error}))}function Wo(t,n,e){return t(n,e)}function Yo(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function Jn(t,n,e,o){let r=[],i={},u=[];return t.stagedActionIds.forEach((c,h)=>{let s=t.actionsById[c];s&&(h&&ie(t.computedStates[h],s,n,e,o)||(i[c]=s,r.push(c),u.push(t.computedStates[h])))}),M(x({},t),{stagedActionIds:r,actionsById:i,computedStates:u})}function ie(t,n,e,o,r){let i=e&&!e(t,n.action),u=o&&!n.action.type.match(o.map(h=>Go(h)).join("|")),c=r&&n.action.type.match(r.map(h=>Go(h)).join("|"));return i||u||c}function Go(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tn(t){return{ngZone:t?C(Ie):null,connectInZone:t}}var Tt=(()=>{class t extends ht{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Se(t)))(r||t)}})()}static{this.\u0275prov=v({token:t,factory:t.\u0275fac})}}return t})(),St={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},ne=new k("@ngrx/store-devtools Redux Devtools Extension"),en=(()=>{class t{constructor(e,o,r){this.config=o,this.dispatcher=r,this.zoneConfig=tn(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,o){if(this.devtoolsExtension)if(e.type===rt){if(o.isLocked||o.isPaused)return;let r=Qo(o);if(Yo(this.config)&&ie(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let i=this.config.stateSanitizer?Wo(this.config.stateSanitizer,r,o.currentStateIndex):r,u=this.config.actionSanitizer?qo(this.config.actionSanitizer,e,o.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(u,i))}else{let r=M(x({},o),{stagedActionIds:o.stagedActionIds,actionsById:this.config.actionSanitizer?Zn(this.config.actionSanitizer,o.actionsById):o.actionsById,computedStates:this.config.stateSanitizer?Xn(this.config.stateSanitizer,o.computedStates):o.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ot(e=>{let o=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=o,o.init(),o.subscribe(r=>e.next(r)),o.unsubscribe}):fe}createActionStreams(){let e=this.createChangesObservable().pipe(Ee()),o=e.pipe(P(s=>s.type===St.START)),r=e.pipe(P(s=>s.type===St.STOP)),i=e.pipe(P(s=>s.type===St.DISPATCH),y(s=>this.unwrapAction(s.payload)),G(s=>s.type===re?this.dispatcher.pipe(P(E=>E.type===Gt),ue(1e3),de(1e3),y(()=>s),S(()=>T(s)),st(1)):T(s))),c=e.pipe(P(s=>s.type===St.ACTION),y(s=>this.unwrapAction(s.payload))).pipe(at(r)),h=i.pipe(at(r));this.start$=o.pipe(at(r)),this.actions$=this.start$.pipe(Ot(()=>c)),this.liftedActions$=this.start$.pipe(Ot(()=>h))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let o={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(o.maxAge=e.maxAge),o}sendToReduxDevtools(e){try{e()}catch(o){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",o)}}static{this.\u0275fac=function(o){return new(o||t)(l(ne),l(Mt),l(Tt))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac})}}return t})(),At={type:Pt},Qn="@ngrx/store-devtools/recompute",qn={type:Qn};function on(t,n,e,o,r){if(o)return{state:e,error:"Interrupted by an error up the chain"};let i=e,u;try{i=t(e,n)}catch(c){u=c.toString(),r.handleError(c)}return{state:i,error:u}}function It(t,n,e,o,r,i,u,c,h){if(n>=t.length&&t.length===i.length)return t;let s=t.slice(0,n),E=i.length-(h?1:0);for(let a=n;a<E;a++){let p=i[a],I=r[p].action,d=s[a-1],f=d?d.state:o,F=d?d.error:void 0,_=u.indexOf(p)>-1?d:on(e,I,f,F,c);s.push(_)}return h&&s.push(t[t.length-1]),s}function Wn(t,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:nt(At)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Yn(t,n,e,o,r={}){return i=>(u,c)=>{let{monitorState:h,actionsById:s,nextActionId:E,stagedActionIds:a,skippedActionIds:p,committedState:I,currentStateIndex:d,computedStates:f,isLocked:F,isPaused:A}=u||n;u||(s=Object.create(s));function _(b){let g=b,z=a.slice(1,g+1);for(let R=0;R<z.length;R++)if(f[R+1].error){g=R,z=a.slice(1,g+1);break}else delete s[z[R]];p=p.filter(R=>z.indexOf(R)===-1),a=[0,...a.slice(g+1)],I=f[g].state,f=f.slice(g),d=d>g?d-g:0}function D(){s={0:nt(At)},E=1,a=[0],p=[],I=f[d].state,d=0,f=[]}let m=0;switch(c.type){case Zo:{F=c.status,m=1/0;break}case Xo:{A=c.status,A?(a=[...a,E],s[E]=new et({type:"@ngrx/devtools/pause"},+Date.now()),E++,m=a.length-1,f=f.concat(f[f.length-1]),d===a.length-2&&d++,m=1/0):D();break}case Lo:{s={0:nt(At)},E=1,a=[0],p=[],I=t,d=0,f=[];break}case Uo:{D();break}case zo:{s={0:nt(At)},E=1,a=[0],p=[],d=0,f=[];break}case Ho:{let{id:b}=c;p.indexOf(b)===-1?p=[b,...p]:p=p.filter(z=>z!==b),m=a.indexOf(b);break}case Hn:{let{start:b,end:g,active:z}=c,R=[];for(let kt=b;kt<g;kt++)R.push(kt);z?p=Po(p,R):p=[...p,...R],m=a.indexOf(b);break}case Vo:{d=c.index,m=1/0;break}case Ko:{let b=a.indexOf(c.actionId);b!==-1&&(d=b),m=1/0;break}case Bo:{a=Po(a,p),p=[],d=Math.min(d,a.length-1);break}case rt:{if(F)return u||n;if(A||u&&ie(u.computedStates[d],c,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let g=f[f.length-1];f=[...f.slice(0,-1),on(i,c.action,g.state,g.error,e)],m=1/0;break}r.maxAge&&a.length===r.maxAge&&_(1),d===a.length-1&&d++;let b=E++;s[b]=c,a=[...a,b],m=a.length-1;break}case re:{({monitorState:h,actionsById:s,nextActionId:E,stagedActionIds:a,skippedActionIds:p,committedState:I,currentStateIndex:d,computedStates:f,isLocked:F,isPaused:A}=c.nextLiftedState);break}case Pt:{m=0,r.maxAge&&a.length>r.maxAge&&(f=It(f,m,i,I,s,a,p,e,A),_(a.length-r.maxAge),m=1/0);break}case Gt:{if(f.filter(g=>g.error).length>0)m=0,r.maxAge&&a.length>r.maxAge&&(f=It(f,m,i,I,s,a,p,e,A),_(a.length-r.maxAge),m=1/0);else{if(!A&&!F){d===a.length-1&&d++;let g=E++;s[g]=new et(c,+Date.now()),a=[...a,g],m=a.length-1,f=It(f,m,i,I,s,a,p,e,A)}f=f.map(g=>M(x({},g),{state:i(g.state,qn)})),d=a.length-1,r.maxAge&&a.length>r.maxAge&&_(a.length-r.maxAge),m=1/0}break}default:{m=1/0;break}}return f=It(f,m,i,I,s,a,p,e,A),h=o(h,c),{monitorState:h,actionsById:s,nextActionId:E,stagedActionIds:a,skippedActionIds:p,committedState:I,currentStateIndex:d,computedStates:f,isLocked:F,isPaused:A}}}var No=(()=>{class t{constructor(e,o,r,i,u,c,h,s){let E=Wn(h,s.monitor),a=Yn(h,E,c,s.monitor,s),p=V(V(o.asObservable().pipe(ve(1)),i.actions$).pipe(y(nt)),e,i.liftedActions$).pipe(le(ce)),I=r.pipe(y(a)),d=tn(s.connectInZone),f=new ae(1);this.liftedStateSubscription=p.pipe(ye(I),$o(d),be(({state:_},[D,m])=>{let b=m(_,D);return D.type!==rt&&Yo(s)&&(b=Jn(b,s.predicate,s.actionsSafelist,s.actionsBlocklist)),i.notify(D,b),{state:b,action:D}},{state:E,action:null})).subscribe(({state:_,action:D})=>{if(f.next(_),D.type===rt){let m=D.action;u.next(m)}}),this.extensionStartSubscription=i.start$.pipe($o(d)).subscribe(()=>{this.refresh()});let F=f.asObservable(),A=F.pipe(y(Qo));Object.defineProperty(A,"state",{value:Ve(A,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=F,this.state=A}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new et(e,+Date.now()))}refresh(){this.dispatch(new Kt)}reset(){this.dispatch(new Zt(+Date.now()))}rollback(){this.dispatch(new Xt(+Date.now()))}commit(){this.dispatch(new Jt(+Date.now()))}sweep(){this.dispatch(new Qt)}toggleAction(e){this.dispatch(new qt(e))}jumpToAction(e){this.dispatch(new Yt(e))}jumpToState(e){this.dispatch(new Wt(e))}importState(e){this.dispatch(new te(e))}lockChanges(e){this.dispatch(new ee(e))}pauseRecording(e){this.dispatch(new oe(e))}static{this.\u0275fac=function(o){return new(o||t)(l(Tt),l(ht),l(Qe),l(en),l(gt),l(lt),l(Ze),l(Mt))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac})}}return t})();function $o({ngZone:t,connectInZone:n}){return e=>n?new ot(o=>e.subscribe({next:r=>t.run(()=>o.next(r)),error:r=>t.run(()=>o.error(r)),complete:()=>t.run(()=>o.complete())})):e}var tr=new k("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function er(t,n){return!!t||n.monitor!==Jo}function or(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function nr(t){return t.state}function nn(t={}){return ft([en,Tt,No,{provide:Do,useValue:t},{provide:tr,deps:[ne,Mt],useFactory:er},{provide:ne,useFactory:or},{provide:Mt,deps:[Do],useFactory:Kn},{provide:We,deps:[No],useFactory:nr},{provide:qe,useExisting:Tt}])}$e(_o,{providers:[Le(),eo({router:ho}),nn({maxAge:25,logOnly:W.production}),go(),He(Ro)]}).catch(t=>console.error(t));
